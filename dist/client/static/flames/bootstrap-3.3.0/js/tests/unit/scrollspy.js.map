{"version":3,"sources":["../../../../../../../../client/static/flames/bootstrap-3.3.0/js/tests/unit/scrollspy.js"],"names":["$","module","test","ok","document","body","scrollspy","setup","fn","bootstrapScrollspy","noConflict","teardown","strictEqual","undefined","$el","$scrollspy","stop","sectionHTML","$section","appendTo","show","find","target","on","hasClass","start","scrollTop","filter","offset","position","top","parent","navbarHtml","contentHtml","$content","testElementIsActiveAfterScroll","element","deferred","Deferred","scrollHeight","Math","ceil","one","resolve","promise","when","then","scrollspyHTML","length","has"],"mappings":"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","file":"scrollspy.js","sourcesContent":["$(function () {\n  'use strict';\n\n  module('scrollspy plugin')\n\n  test('should be defined on jquery object', function () {\n    ok($(document.body).scrollspy, 'scrollspy method is defined')\n  })\n\n  module('scrollspy', {\n    setup: function () {\n      // Run all tests in noConflict mode -- it's the only way to ensure that the plugin works in noConflict mode\n      $.fn.bootstrapScrollspy = $.fn.scrollspy.noConflict()\n    },\n    teardown: function () {\n      $.fn.scrollspy = $.fn.bootstrapScrollspy\n      delete $.fn.bootstrapScrollspy\n    }\n  })\n\n  test('should provide no conflict', function () {\n    strictEqual($.fn.scrollspy, undefined, 'scrollspy was set back to undefined (org value)')\n  })\n\n  test('should return jquery collection containing the element', function () {\n    var $el = $('<div/>')\n    var $scrollspy = $el.bootstrapScrollspy()\n    ok($scrollspy instanceof $, 'returns jquery collection')\n    strictEqual($scrollspy[0], $el[0], 'collection contains element')\n  })\n\n  test('should only switch \"active\" class on current target', function () {\n    stop()\n\n    var sectionHTML = '<div id=\"root\" class=\"active\">'\n        + '<div class=\"topbar\">'\n        + '<div class=\"topbar-inner\">'\n        + '<div class=\"container\" id=\"ss-target\">'\n        + '<ul class=\"nav\">'\n        + '<li><a href=\"#masthead\">Overview</a></li>'\n        + '<li><a href=\"#detail\">Detail</a></li>'\n        + '</ul>'\n        + '</div>'\n        + '</div>'\n        + '</div>'\n        + '<div id=\"scrollspy-example\" style=\"height: 100px; overflow: auto;\">'\n        + '<div style=\"height: 200px;\">'\n        + '<h4 id=\"masthead\">Overview</h4>'\n        + '<p style=\"height: 200px\">'\n        + 'Ad leggings keytar, brunch id art party dolor labore.'\n        + '</p>'\n        + '</div>'\n        + '<div style=\"height: 200px;\">'\n        + '<h4 id=\"detail\">Detail</h4>'\n        + '<p style=\"height: 200px\">'\n        + 'Veniam marfa mustache skateboard, adipisicing fugiat velit pitchfork beard.'\n        + '</p>'\n        + '</div>'\n        + '</div>'\n        + '</div>'\n    var $section = $(sectionHTML).appendTo('#qunit-fixture')\n\n    var $scrollspy = $section\n      .show()\n      .find('#scrollspy-example')\n      .bootstrapScrollspy({ target: '#ss-target' })\n\n    $scrollspy.on('scroll.bs.scrollspy', function () {\n      ok($section.hasClass('active'), '\"active\" class still on root node')\n      start()\n    })\n\n    $scrollspy.scrollTop(350)\n  })\n\n  test('should correctly select middle navigation option when large offset is used', function () {\n    stop()\n\n    var sectionHTML = '<div id=\"header\" style=\"height: 500px;\"></div>'\n        + '<nav id=\"navigation\" class=\"navbar\">'\n        + '<ul class=\"nav navbar-nav\">'\n        + '<li class=\"active\"><a id=\"one-link\" href=\"#one\">One</a></li>'\n        + '<li><a id=\"two-link\" href=\"#two\">Two</a></li>'\n        + '<li><a id=\"three-link\" href=\"#three\">Three</a></li>'\n        + '</ul>'\n        + '</nav>'\n        + '<div id=\"content\" style=\"height: 200px; overflow-y: auto;\">'\n        + '<div id=\"one\" style=\"height: 500px;\"></div>'\n        + '<div id=\"two\" style=\"height: 300px;\"></div>'\n        + '<div id=\"three\" style=\"height: 10px;\"></div>'\n        + '</div>'\n    var $section = $(sectionHTML).appendTo('#qunit-fixture')\n    var $scrollspy = $section\n      .show()\n      .filter('#content')\n\n    $scrollspy.bootstrapScrollspy({ target: '#navigation', offset: $scrollspy.position().top })\n\n    $scrollspy.on('scroll.bs.scrollspy', function () {\n      ok(!$section.find('#one-link').parent().hasClass('active'), '\"active\" class removed from first section')\n      ok($section.find('#two-link').parent().hasClass('active'), '\"active\" class on middle section')\n      ok(!$section.find('#three-link').parent().hasClass('active'), '\"active\" class not on last section')\n      start()\n    })\n\n    $scrollspy.scrollTop(550)\n  })\n\n  test('should add the active class to the correct element', function () {\n    var navbarHtml =\n        '<nav class=\"navbar\">'\n      + '<ul class=\"nav\">'\n      + '<li id=\"li-1\"><a href=\"#div-1\">div 1</a></li>'\n      + '<li id=\"li-2\"><a href=\"#div-2\">div 2</a></li>'\n      + '</ul>'\n      + '</nav>'\n    var contentHtml =\n        '<div class=\"content\" style=\"overflow: auto; height: 50px\">'\n      + '<div id=\"div-1\" style=\"height: 100px; padding: 0; margin: 0\">div 1</div>'\n      + '<div id=\"div-2\" style=\"height: 200px; padding: 0; margin: 0\">div 2</div>'\n      + '</div>'\n\n    $(navbarHtml).appendTo('#qunit-fixture')\n    var $content = $(contentHtml)\n      .appendTo('#qunit-fixture')\n      .bootstrapScrollspy({ offset: 0, target: '.navbar' })\n\n    var testElementIsActiveAfterScroll = function (element, target) {\n      var deferred = $.Deferred()\n      var scrollHeight = Math.ceil($content.scrollTop() + $(target).position().top)\n      stop()\n      $content.one('scroll', function () {\n        ok($(element).hasClass('active'), 'target:' + target + ', element' + element)\n        start()\n        deferred.resolve()\n      })\n      $content.scrollTop(scrollHeight)\n      return deferred.promise()\n    }\n\n    $.when(testElementIsActiveAfterScroll('#li-1', '#div-1'))\n      .then(function () { return testElementIsActiveAfterScroll('#li-2', '#div-2') })\n  })\n\n  test('should clear selection if above the first section', function () {\n    stop()\n\n    var sectionHTML = '<div id=\"header\" style=\"height: 500px;\"></div>'\n        + '<nav id=\"navigation\" class=\"navbar\">'\n        + '<ul class=\"nav navbar-nav\">'\n        + '<li class=\"active\"><a id=\"one-link\" href=\"#one\">One</a></li>'\n        + '<li><a id=\"two-link\" href=\"#two\">Two</a></li>'\n        + '<li><a id=\"three-link\" href=\"#three\">Three</a></li>'\n        + '</ul>'\n        + '</nav>'\n    $(sectionHTML).appendTo('#qunit-fixture')\n\n    var scrollspyHTML = '<div id=\"content\" style=\"height: 200px; overflow-y: auto;\">'\n        + '<div id=\"spacer\" style=\"height: 100px;\"/>'\n        + '<div id=\"one\" style=\"height: 100px;\"/>'\n        + '<div id=\"two\" style=\"height: 100px;\"/>'\n        + '<div id=\"three\" style=\"height: 100px;\"/>'\n        + '<div id=\"spacer\" style=\"height: 100px;\"/>'\n        + '</div>'\n    var $scrollspy = $(scrollspyHTML).appendTo('#qunit-fixture')\n\n    $scrollspy\n      .bootstrapScrollspy({\n        target: '#navigation',\n        offset: $scrollspy.position().top\n      })\n      .one('scroll.bs.scrollspy', function () {\n        strictEqual($('.active').length, 1, '\"active\" class on only one element present')\n        strictEqual($('.active').has('#two-link').length, 1, '\"active\" class on second section')\n\n        $scrollspy\n          .one('scroll.bs.scrollspy', function () {\n            strictEqual($('.active').length, 0, 'selection cleared')\n            start()\n          })\n          .scrollTop(0)\n      })\n      .scrollTop(201)\n  })\n\n})\n"]}