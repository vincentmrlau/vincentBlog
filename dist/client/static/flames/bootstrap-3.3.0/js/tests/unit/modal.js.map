{"version":3,"sources":["../../../../../../../../client/static/flames/bootstrap-3.3.0/js/tests/unit/modal.js"],"names":["$","module","test","ok","document","body","modal","setup","fn","bootstrapModal","noConflict","teardown","strictEqual","undefined","$el","$modal","Constructor","DEFAULTS","stop","on","notEqual","length","start","e","preventDefault","is","find","click","div","trigger","Event","which","setTimeout","remove","triggered","one","$toggleBtn","appendTo","activeElement","$otherBtn","focus","proxy"],"mappings":"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","file":"modal.js","sourcesContent":["$(function () {\n  'use strict';\n\n  module('modal plugin')\n\n  test('should be defined on jquery object', function () {\n    ok($(document.body).modal, 'modal method is defined')\n  })\n\n  module('modal', {\n    setup: function () {\n      // Run all tests in noConflict mode -- it's the only way to ensure that the plugin works in noConflict mode\n      $.fn.bootstrapModal = $.fn.modal.noConflict()\n    },\n    teardown: function () {\n      $.fn.modal = $.fn.bootstrapModal\n      delete $.fn.bootstrapModal\n    }\n  })\n\n  test('should provide no conflict', function () {\n    strictEqual($.fn.modal, undefined, 'modal was set back to undefined (orig value)')\n  })\n\n  test('should return jquery collection containing the element', function () {\n    var $el = $('<div id=\"modal-test\"/>')\n    var $modal = $el.bootstrapModal()\n    ok($modal instanceof $, 'returns jquery collection')\n    strictEqual($modal[0], $el[0], 'collection contains element')\n  })\n\n  test('should expose defaults var for settings', function () {\n    ok($.fn.bootstrapModal.Constructor.DEFAULTS, 'default object exposed')\n  })\n\n  test('should insert into dom when show method is called', function () {\n    stop()\n\n    $('<div id=\"modal-test\"/>')\n      .on('shown.bs.modal', function () {\n        notEqual($('#modal-test').length, 0, 'modal inserted into dom')\n        start()\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should fire show event', function () {\n    stop()\n\n    $('<div id=\"modal-test\"/>')\n      .on('show.bs.modal', function () {\n        ok(true, 'show event fired')\n        start()\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should not fire shown when show was prevented', function () {\n    stop()\n\n    $('<div id=\"modal-test\"/>')\n      .on('show.bs.modal', function (e) {\n        e.preventDefault()\n        ok(true, 'show event fired')\n        start()\n      })\n      .on('shown.bs.modal', function () {\n        ok(false, 'shown event fired')\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should hide modal when hide is called', function () {\n    stop()\n\n    $('<div id=\"modal-test\"/>')\n      .on('shown.bs.modal', function () {\n        ok($('#modal-test').is(':visible'), 'modal visible')\n        notEqual($('#modal-test').length, 0, 'modal inserted into dom')\n        $(this).bootstrapModal('hide')\n      })\n      .on('hidden.bs.modal', function () {\n        ok(!$('#modal-test').is(':visible'), 'modal hidden')\n        start()\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should toggle when toggle is called', function () {\n    stop()\n\n    $('<div id=\"modal-test\"/>')\n      .on('shown.bs.modal', function () {\n        ok($('#modal-test').is(':visible'), 'modal visible')\n        notEqual($('#modal-test').length, 0, 'modal inserted into dom')\n        $(this).bootstrapModal('toggle')\n      })\n      .on('hidden.bs.modal', function () {\n        ok(!$('#modal-test').is(':visible'), 'modal hidden')\n        start()\n      })\n      .bootstrapModal('toggle')\n  })\n\n  test('should remove from dom when click [data-dismiss=\"modal\"]', function () {\n    stop()\n\n    $('<div id=\"modal-test\"><span class=\"close\" data-dismiss=\"modal\"/></div>')\n      .on('shown.bs.modal', function () {\n        ok($('#modal-test').is(':visible'), 'modal visible')\n        notEqual($('#modal-test').length, 0, 'modal inserted into dom')\n        $(this).find('.close').click()\n      })\n      .on('hidden.bs.modal', function () {\n        ok(!$('#modal-test').is(':visible'), 'modal hidden')\n        start()\n      })\n      .bootstrapModal('toggle')\n  })\n\n  test('should allow modal close with \"backdrop:false\"', function () {\n    stop()\n\n    $('<div id=\"modal-test\" data-backdrop=\"false\"/>')\n      .on('shown.bs.modal', function () {\n        ok($('#modal-test').is(':visible'), 'modal visible')\n        $(this).bootstrapModal('hide')\n      })\n      .on('hidden.bs.modal', function () {\n        ok(!$('#modal-test').is(':visible'), 'modal hidden')\n        start()\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should close modal when clicking outside of modal-content', function () {\n    stop()\n\n    $('<div id=\"modal-test\"><div class=\"contents\"/></div>')\n      .on('shown.bs.modal', function () {\n        notEqual($('#modal-test').length, 0, 'modal insterted into dom')\n        $('.contents').click()\n        ok($('#modal-test').is(':visible'), 'modal visible')\n        $('#modal-test .modal-backdrop').click()\n      })\n      .on('hidden.bs.modal', function () {\n        ok(!$('#modal-test').is(':visible'), 'modal hidden')\n        start()\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should close modal when escape key is pressed via keydown', function () {\n    stop()\n\n    var div = $('<div id=\"modal-test\"/>')\n    div\n      .on('shown.bs.modal', function () {\n        ok($('#modal-test').length, 'modal insterted into dom')\n        ok($('#modal-test').is(':visible'), 'modal visible')\n        div.trigger($.Event('keydown', { which: 27 }))\n\n        setTimeout(function () {\n          ok(!$('#modal-test').is(':visible'), 'modal hidden')\n          div.remove()\n          start()\n        }, 0)\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should not close modal when escape key is pressed via keyup', function () {\n    stop()\n\n    var div = $('<div id=\"modal-test\"/>')\n    div\n      .on('shown.bs.modal', function () {\n        ok($('#modal-test').length, 'modal insterted into dom')\n        ok($('#modal-test').is(':visible'), 'modal visible')\n        div.trigger($.Event('keyup', { which: 27 }))\n\n        setTimeout(function () {\n          ok($('#modal-test').is(':visible'), 'modal still visible')\n          div.remove()\n          start()\n        }, 0)\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should trigger hide event once when clicking outside of modal-content', function () {\n    stop()\n\n    var triggered\n\n    $('<div id=\"modal-test\"><div class=\"contents\"/></div>')\n      .on('shown.bs.modal', function () {\n        triggered = 0\n        $('#modal-test .modal-backdrop').click()\n      })\n      .on('hide.bs.modal', function () {\n        triggered += 1\n        strictEqual(triggered, 1, 'modal hide triggered once')\n        start()\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should close reopened modal with [data-dismiss=\"modal\"] click', function () {\n    stop()\n\n    $('<div id=\"modal-test\"><div class=\"contents\"><div id=\"close\" data-dismiss=\"modal\"/></div></div>')\n      .on('shown.bs.modal', function () {\n        $('#close').click()\n        ok(!$('#modal-test').is(':visible'), 'modal hidden')\n      })\n      .one('hidden.bs.modal', function () {\n        $(this)\n          .one('hidden.bs.modal', function () {\n            start()\n          })\n          .bootstrapModal('show')\n      })\n      .bootstrapModal('show')\n  })\n\n  test('should restore focus to toggling element when modal is hidden after having been opened via data-api', function () {\n    stop()\n\n    var $toggleBtn = $('<button data-toggle=\"modal\" data-target=\"#modal-test\"/>').appendTo('#qunit-fixture')\n\n    $('<div id=\"modal-test\"><div class=\"contents\"><div id=\"close\" data-dismiss=\"modal\"/></div></div>')\n      .on('hidden.bs.modal', function () {\n        setTimeout(function () {\n          ok($(document.activeElement).is($toggleBtn), 'toggling element is once again focused')\n          start()\n        }, 0)\n      })\n      .on('shown.bs.modal', function () {\n        $('#close').click()\n      })\n      .appendTo('#qunit-fixture')\n\n    $toggleBtn.click()\n  })\n\n  test('should not restore focus to toggling element if the associated show event gets prevented', function () {\n    stop()\n    var $toggleBtn = $('<button data-toggle=\"modal\" data-target=\"#modal-test\"/>').appendTo('#qunit-fixture')\n    var $otherBtn = $('<button id=\"other-btn\"/>').appendTo('#qunit-fixture')\n\n    $('<div id=\"modal-test\"><div class=\"contents\"><div id=\"close\" data-dismiss=\"modal\"/></div>')\n      .one('show.bs.modal', function (e) {\n        e.preventDefault()\n        $otherBtn.focus()\n        setTimeout($.proxy(function () {\n          $(this).bootstrapModal('show')\n        }, this), 0)\n      })\n      .on('hidden.bs.modal', function () {\n        setTimeout(function () {\n          ok($(document.activeElement).is($otherBtn), 'focus returned to toggling element')\n          start()\n        }, 0)\n      })\n      .on('shown.bs.modal', function () {\n        $('#close').click()\n      })\n      .appendTo('#qunit-fixture')\n\n    $toggleBtn.click()\n  })\n})\n"]}