{"version":3,"sources":["../../server/mysql-initialize.js"],"names":["mysql","require","config","connection","createConnection","mysqlConfig","connect","createUserTable","query","err","result","console","log","createBlogTable","createCommentTable","createTagsTable","createPaperTagsTable","end"],"mappings":";;AACA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,iBAAR,CAAb;;AAIA,IAAIE,aAAaH,MAAMI,gBAAN,CAAuBF,OAAOG,WAA9B,CAAjB;;AAEAF,WAAWG,OAAX;;AAEA,IAAIC,kBAAkB;AAClB;AACA,iDAFkB,GAGlB,yBAHkB,GAIlB,iBAJkB,GAKlB,yDALkB,GAMlB,oFANkB,GAOlB,GAPJ;AAQAJ,WAAWK,KAAX,CAAiBD,eAAjB,EAAiC,UAAUE,GAAV,EAAcC,MAAd,EAAsB;AACnD,QAAGD,GAAH,EAAO;AACHE,gBAAQC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAEK;AACDE,gBAAQC,GAAR,CAAYF,MAAZ;AACAC,gBAAQC,GAAR,CAAY,iBAAZ;AACH;AACJ,CAPD;;AASA,IAAIC,kBAAkB,uBAClB,0DADkB,GAElB,2BAFkB,GAGlB,uBAHkB,GAIlB,uBAJkB,GAKlB,qBALkB,GAMlB,yDANkB,GAOlB,oFAPkB,GAQlB,GARJ;AASAV,WAAWK,KAAX,CAAiBK,eAAjB,EAAiC,UAAUJ,GAAV,EAAcC,MAAd,EAAsB;AACnD,QAAGD,GAAH,EAAO;AACHE,gBAAQC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAEK;AACDE,gBAAQC,GAAR,CAAYF,MAAZ;AACAC,gBAAQC,GAAR,CAAY,iBAAZ;AACH;AACJ,CAPD;;AASA,IAAIE,qBAAqB,0BACrB,kDADqB,GAErB,2BAFqB,GAGrB,8BAHqB,GAIrB,0BAJqB,GAKrB,wBALqB,GAMrB,yDANqB,GAOrB,oFAPqB,GAQrB,GARJ;AASAX,WAAWK,KAAX,CAAiBM,kBAAjB,EAAoC,UAAUL,GAAV,EAAcC,MAAd,EAAsB;AACtD,QAAGD,GAAH,EAAO;AACHE,gBAAQC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAEK;AACDE,gBAAQC,GAAR,CAAYF,MAAZ;AACAC,gBAAQC,GAAR,CAAY,oBAAZ;AACH;AACJ,CAPD;AAQA,IAAIG,kBAAkB,sBAClB,sCADkB,GAElB,6BAFkB,GAGlB,yDAHkB,GAIlB,oFAJkB,GAKlB,GALJ;AAMAZ,WAAWK,KAAX,CAAiBO,eAAjB,EAAiC,UAAUN,GAAV,EAAcC,MAAd,EAAsB;AACnD,QAAGD,GAAH,EAAO;AACHE,gBAAQC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAEK;AACDE,gBAAQC,GAAR,CAAYF,MAAZ;AACAC,gBAAQC,GAAR,CAAY,iBAAZ;AACH;AACJ,CAPD;AAQA,IAAII,uBAAuB,4BACvB,kDADuB,GAEvB,+BAFuB,GAGvB,gCAHuB,GAIvB,yDAJuB,GAKvB,oFALuB,GAMvB,GANJ;AAOAb,WAAWK,KAAX,CAAiBQ,oBAAjB,EAAsC,UAAUP,GAAV,EAAcC,MAAd,EAAsB;AACxD,QAAGD,GAAH,EAAO;AACHE,gBAAQC,GAAR,CAAYH,GAAZ;AACH,KAFD,MAEK;AACDE,gBAAQC,GAAR,CAAYF,MAAZ;AACAC,gBAAQC,GAAR,CAAY,sBAAZ;AACH;AACJ,CAPD;;AASAT,WAAWc,GAAX","file":"mysql-initialize.js","sourcesContent":["\r\nvar mysql = require('mysql');\r\nvar config = require(\"./app-config.js\");\r\n\r\n\r\n\r\nvar connection = mysql.createConnection(config.mysqlConfig);\r\n\r\nconnection.connect();\r\n\r\nvar createUserTable = 'create table user(' +\r\n    // 'id int unsigned not null auto_increment,' +\r\n    'email varchar(255) not null unique primary key,' +\r\n    'password text not null,' +\r\n    'nickname text, ' +\r\n    'createdAT timestamp default current_timestamp not null,' +\r\n    'updatedAT timestamp default current_timestamp on update current_timestamp not null' +\r\n    ')';\r\nconnection.query(createUserTable,function (err,result) {\r\n    if(err){\r\n        console.log(err);\r\n    }else{\r\n        console.log(result);\r\n        console.log(\"createUserTable\");\r\n    }\r\n});\r\n\r\nvar createBlogTable = 'create table blog(' +\r\n    'id int(16) unsigned not null auto_increment primary key,' +\r\n    'class char(255) not null,' +\r\n    'tittle text not null,' +\r\n    'picture varchar(255),' +\r\n    'href text not null,' +\r\n    'createdAT timestamp default current_timestamp not null,' +\r\n    'updatedAT timestamp default current_timestamp on update current_timestamp not null'+\r\n    ')';\r\nconnection.query(createBlogTable,function (err,result) {\r\n    if(err){\r\n        console.log(err);\r\n    }else{\r\n        console.log(result);\r\n        console.log(\"createBlogTable\");\r\n    }\r\n});\r\n\r\nvar createCommentTable = 'create table comment(' +\r\n    'id int(16) unsigned not null auto_increment key,' +\r\n    'blog_id int(16) not null,' +\r\n    'email varchar(255) not null,' +\r\n    'nickname text not null, ' +\r\n    'content text not null,' +\r\n    'createdAT timestamp default current_timestamp not null,' +\r\n    'updatedAT timestamp default current_timestamp on update current_timestamp not null'+\r\n    ')';\r\nconnection.query(createCommentTable,function (err,result) {\r\n    if(err){\r\n        console.log(err);\r\n    }else{\r\n        console.log(result);\r\n        console.log(\"createCommentTable\");\r\n    }\r\n});\r\nvar createTagsTable = 'create table tag(' +\r\n    'tag_id varchar(255) not null unique,' +\r\n    'type varchar(255) not null,' +\r\n    'createdAT timestamp default current_timestamp not null,' +\r\n    'updatedAT timestamp default current_timestamp on update current_timestamp not null'+\r\n    ')';\r\nconnection.query(createTagsTable,function (err,result) {\r\n    if(err){\r\n        console.log(err);\r\n    }else{\r\n        console.log(result);\r\n        console.log(\"createTagsTable\");\r\n    }\r\n});\r\nvar createPaperTagsTable = 'create table paper_tag(' +\r\n    'id int(16) unsigned not null auto_increment key,' +\r\n    'tag_id varchar(255) not null,' +\r\n    'blog_id varchar(255) not null,' +\r\n    'createdAT timestamp default current_timestamp not null,' +\r\n    'updatedAT timestamp default current_timestamp on update current_timestamp not null'+\r\n    ')';\r\nconnection.query(createPaperTagsTable,function (err,result) {\r\n    if(err){\r\n        console.log(err);\r\n    }else{\r\n        console.log(result);\r\n        console.log(\"createPaperTagsTable\");\r\n    }\r\n});\r\n\r\nconnection.end();\r\n"]}